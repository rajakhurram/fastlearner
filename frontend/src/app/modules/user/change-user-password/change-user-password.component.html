<div class="sign-in-container">
  <nz-card class="card">
    <div class="card-header">
      <h3>Change Password</h3>
    </div>
    <div class="sign-up-form">
      <form
        autocomplete="off"
        [formGroup]="validateForm"
        class="signup-form"
        (ngSubmit)="submitForm()"
      >
        <nz-form-item>
          <nz-form-control>
            <label>Current Password</label>
            <nz-input-group nzSize="large" [nzSuffix]="suffixTemplateEye1">
              <input
                class="input-field"
                [type]="oldPasswordTextType ? 'text' : 'password'"
                nz-input
                formControlName="oldPassword"
                placeholder="Enter your password"
              />
            </nz-input-group>
            <ng-template #suffixTemplateEye1
              ><span
                nz-icon
                (click)="toggleOldPassword()"
                class="password-field"
                nzTheme="fill"
                [nzType]="oldEyeType"
              ></span
            ></ng-template>
            <div
              *ngIf="
                validateForm.get('oldPassword').invalid &&
                validateForm.get('oldPassword').dirty
              "
            >
              <div
                style="color: red"
                *ngIf="validateForm.get('oldPassword').errors['required']"
              >
                Password is required.
              </div>
            </div>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-control>
            <label>New Password</label>
            <nz-input-group nzSize="large" [nzSuffix]="suffixTemplateEye2">
              <input
                class="input-field"
                [type]="passwordTextType ? 'text' : 'password'"
                nz-input
                formControlName="newPassword"
                (ngModelChange)="updateConfirmValidator()"
                placeholder="Create new password"
              />
            </nz-input-group>
            <ng-template #suffixTemplateEye2
              ><span
                nz-icon
                (click)="togglePassword()"
                class="password-field"
                nzTheme="fill"
                [nzType]="newEyeType"
              ></span
            ></ng-template>
            <div
              *ngIf="
                validateForm.get('newPassword').invalid &&
                validateForm.get('newPassword').dirty
              "
            >
              <div
                style="color: red"
                *ngIf="validateForm.get('newPassword').errors['required']"
              >
                Password is required.
              </div>
              <div
                style="color: red"
                *ngIf="validateForm.get('newPassword').errors['minlength']"
              >
                Password must be at least 6 characters long.
              </div>
              <div
                style="color: red"
                *ngIf="validateForm.get('newPassword').errors['alphanumeric']"
              >
                Password must be alphanumeric.
              </div>
            </div>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-control [nzErrorTip]="errorTpl">
            <label>Confirm Password</label>
            <nz-input-group nzSize="large" [nzSuffix]="suffixTemplateEye3">
              <input
                class="input-field"
                [type]="confirmPasswordTextType ? 'text' : 'password'"
                nz-input
                formControlName="confirmPassword"
                placeholder="Re-enter new password"
              />
              <ng-template #errorTpl let-control>
                <ng-container *ngIf="control.hasError('required')"
                  >Please confirm your password!</ng-container
                >
                <ng-container *ngIf="control.hasError('confirm')">
                  Password Not Matched!
                </ng-container>
              </ng-template>
            </nz-input-group>
            <ng-template #suffixTemplateEye3
              ><span
                nz-icon
                (click)="toggleConfirmPassword()"
                class="password-field"
                nzTheme="fill"
                [nzType]="confirmEyeType"
              ></span
            ></ng-template>
          </nz-form-control>
        </nz-form-item>
        <div nz-row class="login-form-margin"></div>
        <div class="button-sign-up">
          <button
            nz-button
            [disabled]="validateForm.invalid"
            class="signup-form-button login-form-margin"
            [nzType]="'primary'"
          >
            Update password
          </button>
        </div>
      </form>
    </div>
  </nz-card>
</div>
